{"version":3,"file":"js/910.19539185.js","mappings":"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","sources":["webpack://f2e_week2/./src/views/EditView.vue","webpack://f2e_week2/./src/components/SignModal.vue","webpack://f2e_week2/./src/mixins/fabricMixin.js","webpack://f2e_week2/./src/components/SignModal.vue?1de6","webpack://f2e_week2/./src/mixins/pdfJSMixin.js","webpack://f2e_week2/./src/views/EditView.vue?eb6a"],"sourcesContent":["<!-- eslint-disable max-len -->\n<template>\n  <div class=\"bg-n3 flex min-h-screen flex-col overflow-clip\">\n    <FunNav :stage=\"2\" @next=\"confirmedEdit\" @cancel=\"openModal\" />\n    <div class=\"flex grow w-full overflow-x-scroll\">\n      <!-- sideNav -->\n      <div class=\"hidden w-1/5 shadow-md bg-white px-1 lg:block\">\n        <ul class=\"flex flex-col grow\">\n          <li class=\"relative\">\n            <button\n              type=\"button\"\n              class=\"flex w-full items-center whitespace-nowrap text-sm py-4 px-6 h-12 overflow-hidden text-ellipsis hover:text-gray-900 hover:bg-gray-100 transition duration-300 ease-in-out\"\n              @click=\"signOpen\"\n            >\n              <img class=\"inline-block mr-1\" src=\"../assets/Icon/edit.png\" alt=\"edit\" />\n              <p>簽名</p>\n            </button>\n          </li>\n          <li class=\"relative\">\n            <button\n              type=\"button\"\n              class=\"flex w-full items-center whitespace-nowrap text-sm py-4 px-6 h-12 overflow-hidden text-ellipsis hover:text-gray-900 hover:bg-gray-100 transition duration-300 ease-in-out\"\n              @click=\"addDate\"\n            >\n              <img class=\"inline-block mr-1\" src=\"../assets/Icon/Calendar.png\" alt=\"Calendar\" />\n              <p>日期</p>\n            </button>\n          </li>\n          <li class=\"relative\">\n            <button\n              type=\"button\"\n              class=\"flex w-full items-center whitespace-nowrap text-sm py-4 px-6 h-12 overflow-hidden text-ellipsis hover:text-gray-900 hover:bg-gray-100 transition duration-300 ease-in-out\"\n              @click=\"addText\"\n            >\n              <img class=\"inline-block mr-1\" src=\"../assets/Icon/text.png\" alt=\"text\" />\n              <p>文字</p>\n            </button>\n          </li>\n        </ul>\n      </div>\n      <div class=\"relative w-full py-4 pl-4 lg:w-4/5\">\n        <canvas class=\"absolute drop-shadow-lg\" id=\"canvas\"></canvas>\n        <!-- function buttons 1-->\n        <div class=\"flex items-center justify-center absolute left-8 top-6 z-10 rounded\">\n          <div class=\"inline-flex shadow-md hover:shadow-lg focus:shadow-lg\" role=\"group\">\n            <button\n              type=\"button\"\n              class=\"rounded-l inline-block p-1.5 lg:p-2.5 bg-n1 font-medium border border-n3 text-xs leading-tight transition duration-150 ease-in-out\"\n              @click=\"scaleUp\"\n            >\n              <img src=\"../assets/Icon/plus.png\" alt=\"plus\" />\n            </button>\n            <button\n              type=\"button\"\n              class=\"rounded-l inline-block p-1.5 lg:p-2.5 bg-n1 font-medium border border-n3 text-xs leading-tight transition duration-150 ease-in-out\"\n              @click=\"scaleDown\"\n            >\n              <img src=\"../assets/Icon/minus.png\" alt=\"minus\" />\n            </button>\n            <button\n              type=\"button\"\n              class=\"rounded-l inline-block p-1.5 lg:p-2.5 bg-n1 font-medium border border-n3 text-xs leading-tight transition duration-150 ease-in-out\"\n              @click=\"clipMethod\"\n            >\n              <img src=\"../assets/Icon/minimize.png\" alt=\"minimize\" />\n            </button>\n          </div>\n        </div>\n        <!-- function buttons 2-->\n        <div class=\"flex items-center justify-center absolute right-8 top-6 z-10 rounded lg:hidden\">\n          <div class=\"inline-flex shadow-md hover:shadow-lg focus:shadow-lg\" role=\"group\">\n            <button\n              type=\"button\"\n              class=\"rounded-l inline-block p-1.5 lg:p-2.5 bg-n1 font-medium border border-n3 text-xs leading-tight transition duration-150 ease-in-out\"\n              @click=\"signOpen\"\n            >\n              <img src=\"../assets/Icon/edit.png\" alt=\"edit\" />\n            </button>\n            <button\n              type=\"button\"\n              class=\"rounded-l inline-block p-1.5 lg:p-2.5 bg-n1 font-medium border border-n3 text-xs leading-tight transition duration-150 ease-in-out\"\n              @click=\"addDate\"\n            >\n              <img src=\"../assets/Icon/Calendar.png\" alt=\"Calendar\" />\n            </button>\n            <button\n              type=\"button\"\n              class=\"rounded-l inline-block p-1.5 lg:p-2.5 bg-n1 font-medium border border-n3 text-xs leading-tight transition duration-150 ease-in-out\"\n              @click=\"addText\"\n            >\n              <img src=\"../assets/Icon/text.png\" alt=\"text\" />\n            </button>\n          </div>\n        </div>\n        <!-- pagination -->\n        <div\n          class=\"fixed left-8 top-[470px] lg:left-0 lg:right-8 xl:top-auto xl:bottom-5 flex justify-end\"\n        >\n          <nav aria-label=\"Page navigation example\">\n            <div class=\"inline-flex shadow-md hover:shadow-lg focus:shadow-lg\" role=\"group\">\n              <button\n                :disabled=\"currentNum <= 1 ? true : false\"\n                type=\"button\"\n                data-btn=\"prevPage\"\n                class=\"rounded-l inline-block p-2.5 bg-n1 font-medium border border-n3 leading-tight transition duration-150 ease-in-out\"\n                aria-label=\"Previous\"\n                @click=\"switchPage\"\n              >\n                <span aria-hidden=\"true\">&laquo;</span>\n              </button>\n              <button\n                disabled\n                type=\"button\"\n                class=\"rounded-l inline-block p-2.5 bg-n1 font-medium border border-n3 leading-tight transition duration-150 ease-in-out\"\n              >\n                {{ currentNum }} / {{ totalNum }}\n              </button>\n              <button\n                :disabled=\"currentNum >= totalNum ? true : false\"\n                data-btn=\"nextPage\"\n                type=\"button\"\n                class=\"rounded-l inline-block p-2.5 bg-n1 font-medium border border-n3 leading-tight transition duration-150 ease-in-out\"\n                aria-label=\"Next\"\n                @click=\"switchPage\"\n              >\n                <span aria-hidden=\"true\">&raquo;</span>\n              </button>\n            </div>\n          </nav>\n        </div>\n      </div>\n    </div>\n  </div>\n  <SignModal ref=\"signModal\" />\n  <ModalNote ref=\"modal\" @cancel=\"hideModal\" />\n</template>\n\n<script>\nimport { mapState, mapWritableState } from 'pinia';\nimport { useUploadStore } from '../stores/userEdit';\nimport SignModal from '../components/SignModal.vue';\nimport ModalNote from '../components/ModalNote.vue';\nimport FunNav from '../components/FunNav.vue';\nimport pdfJSMixin from '../mixins/pdfJSMixin';\nimport fabricMixin from '../mixins/fabricMixin';\n\nexport default {\n  data() {\n    return {\n      ctx: null,\n      canvas: null,\n      scale: 1,\n      currentNum: 1,\n      totalNum: 1,\n      offsetX: '',\n      offsetY: '',\n      clip_state: false,\n      userClipPath: null,\n      pdfImage: null,\n    };\n  },\n  computed: {\n    ...mapState(useUploadStore, ['pdfFile', 'chosenSign']),\n    ...mapWritableState(useUploadStore, ['ReName', 'tags', 'finalFile', 'signatures']),\n  },\n  mixins: [pdfJSMixin, fabricMixin],\n  watch: {\n    chosenSign(n) {\n      this.canvas.add(n);\n    },\n  },\n  components: { FunNav, SignModal, ModalNote },\n  methods: {\n    switchPage(e) {\n      console.log(e.target.dataset.btn === 'nextPage');\n      if (e.target.dataset.btn === 'prevPage') {\n        this.currentNum -= 1;\n      } else if (e.target.dataset.btn === 'nextPage') {\n        this.currentNum += 1;\n      }\n      this.renderAll();\n    },\n    async renderPDF() {\n      const data = this.pdfFile;\n      // const { scale } = this;\n      const pdfDoc = await this.pdfjsLib.getDocument(data).promise;\n      const pdfPage = await pdfDoc.getPage(this.currentNum);\n      // 將pdf 轉成 符合螢幕大小的比例\n      // 取得目前的螢幕大小\n      const viewport = pdfPage.getViewport({ scale: window.devicePixelRatio });\n      // 注意: 這邊的canvas 是新建的元件\n      const canvas = document.createElement('canvas');\n      const context = canvas.getContext('2d');\n      // 設置canvas的寬高\n      canvas.width = viewport.width;\n      canvas.height = viewport.height;\n      // 為做成圖片，將繪製好的pdf作為變數回傳\n      const renderTask = pdfPage.render({ canvasContext: context, viewport });\n      // 回傳做好的 PDF canvas\n      return renderTask.promise.then(() => canvas); // 到這邊\n    },\n    async pdfToImage(pdfData) {\n      // 設定 PDF 轉為圖片時的比例\n      // 回傳圖片\n      // 設定 PDF 轉為圖片時的比例\n      const scale = 1 / window.devicePixelRatio;\n      // pdf的資料在這一層就被設為圖片轉出\n      return new this.fabric.Image(pdfData, {\n        id: 'renderPDF',\n        scaleX: scale,\n        scaleY: scale,\n      });\n    },\n    async renderAll() {\n      this.canvas = new this.fabric.Canvas('canvas');\n      this.canvas.requestRenderAll();\n      const pdfData = await this.renderPDF();\n      this.pdfImage = await this.pdfToImage(pdfData);\n      // 透過比例設定 canvas 尺寸\n      this.canvas.setWidth(this.pdfImage.width / window.devicePixelRatio);\n      this.canvas.setHeight(this.pdfImage.height / window.devicePixelRatio);\n      // 將 PDF 畫面設定為背景 (也就是原本的pdf已變成純圖片)\n      this.canvas.setBackgroundImage(this.pdfImage, this.canvas.renderAll.bind(this.canvas));\n    },\n    async getTotalNum() {\n      const data = this.pdfFile;\n      const pdfDoc = await this.pdfjsLib.getDocument(data).promise;\n      // 總頁數\n      this.totalNum = pdfDoc.numPages;\n    },\n    scaleUp() {\n      this.scale += 0.1;\n      this.canvas.setDimensions({\n        width: this.canvas.getWidth() * this.scale,\n        height: this.canvas.getHeight() * this.scale,\n      });\n      this.canvas.setZoom(this.scale);\n    },\n    scaleDown() {\n      this.scale -= 0.1;\n      this.canvas.setDimensions({\n        width: this.canvas.getWidth() * this.scale,\n        height: this.canvas.getHeight() * this.scale,\n      });\n      this.canvas.setZoom(this.scale);\n    },\n    addText() {\n      const iText = new this.fabric.IText('雙擊我編輯', {\n        left: 0,\n        top: 120,\n        hasControls: true,\n      });\n      this.canvas.add(iText);\n      this.canvas.setActiveObject(iText);\n      iText.enterEditing();\n      iText.selectAll();\n    },\n    addDate() {\n      const year = new Date().getFullYear();\n      const month = new Date().getMonth() + 1;\n      const date = new Date().getDate();\n      const Text = new this.fabric.Text(`${year}/${month}/${date}`, {\n        left: 0,\n        top: 120,\n        hasControls: true,\n      });\n      this.canvas.add(Text);\n    },\n    clipMethod() {\n      this.clip_state = !this.clip_state;\n      if (!this.clip_state) {\n        this.clipPath();\n      } else {\n        this.clipConfirm();\n      }\n    },\n    clipPath() {\n      this.userClipPath = new this.fabric.Rect({\n        width: 200,\n        height: 200,\n        fill: 'rgb(178, 178, 178, 0.4)',\n        transparentCorners: false,\n        cornerColor: 'rgb(178, 178, 178, 0.8)',\n        strokeWidth: 1,\n        cornerStrokeColor: 'black',\n        borderColor: 'black',\n        borderDashArray: [5, 5],\n        cornerStyle: 'circle',\n      });\n      this.userClipPath.setControlVisible('mtr', false);\n      this.canvas.add(this.userClipPath);\n    },\n    clipConfirm() {\n      const newImgCrop = this.userClipPath.getBoundingRect();\n      this.canvas.setWidth(newImgCrop.width);\n      this.canvas.setHeight(newImgCrop.height);\n      // 這邊原本是圖片\n      this.pdfImage.set({\n        cropX: newImgCrop.left,\n        cropY: newImgCrop.top,\n        width: newImgCrop.width,\n        height: newImgCrop.height,\n      }); // 校正位置 nowClip.x += newImgCrop.left nowClip.y += newImgCrop.top\n      this.userClipPath.set({ left: 0, top: 0 });\n      this.userClipPath.setCoords();\n      this.userClipPath.opacity = 0;\n      this.canvas.renderAll();\n    },\n    confirmedEdit() {\n      this.finalFile = this.canvas.toDataURL('image/png');\n      const newFile = {};\n      newFile.file = `${this.finalFile}`;\n      newFile.name = `${this.ReName}`;\n      if (localStorage.getItem('historyFiles') === null) {\n        const storageArray = [];\n        storageArray.push(newFile);\n        localStorage.setItem('historyFiles', JSON.stringify(storageArray));\n        // 當localStorage已存在資料陣列，指定一個內容與陣列資料庫相同的陣列\n      } else {\n        const storageArray = JSON.parse(localStorage.getItem('historyFiles'));\n        storageArray.push(newFile);\n        localStorage.setItem('historyFiles', JSON.stringify(storageArray));\n      }\n      this.$router.push('./final');\n    },\n    hideModal() {\n      this.$refs.modal.hideModal();\n    },\n    openModal() {\n      this.$refs.modal.openModal();\n    },\n    signOpen() {\n      this.$refs.signModal.openModal();\n    },\n    signHide() {\n      this.$refs.signModal.hideModal();\n    },\n  },\n  mounted() {\n    this.getTotalNum();\n    this.renderAll();\n  },\n};\n</script>\n","<!-- eslint-disable max-len -->\n<template>\n  <div>\n    <div\n      class=\"modal fade fixed top-0 left-0 hidden w-full h-full outline-none overflow-x-hidden overflow-y-auto\"\n      id=\"signModal\"\n      tabindex=\"-1\"\n      aria-labelledby=\"signModalTitle\"\n      aria-modal=\"true\"\n      role=\"dialog\"\n      ref=\"modal\"\n    >\n      <div class=\"modal-dialog modal-dialog-centered relative w-auto pointer-events-none\">\n        <div\n          class=\"modal-content border-none shadow-lg relative flex flex-col w-full pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current\"\n        >\n          <div class=\"relative flex flex-shrink-0 items-center justify-center p-4 rounded-t-md\">\n            <!-- tabs -->\n            <ul\n              class=\"nav nav-tabs nav-justified flex flex-wrap list-none pl-0 mb-2\"\n              id=\"tabs-tabJustify\"\n              role=\"tablist\"\n            >\n              <li class=\"nav-item text-center\" role=\"presentation\">\n                <a\n                  href=\"#tabs-homeJustify\"\n                  class=\"nav-link w-full whitespace-nowrap block font-medium text-xs leading-tight uppercase border-x-0 border-t-0 border-b-2 border-transparent px-6 py-3 my-2 hover:border-transparent hover:bg-gray-100 focus:border-transparent active\"\n                  id=\"tabs-home-tabJustify\"\n                  data-bs-toggle=\"pill\"\n                  data-bs-target=\"#tabs-homeJustify\"\n                  role=\"tab\"\n                  aria-controls=\"tabs-homeJustify\"\n                  aria-selected=\"true\"\n                  >簽名</a\n                >\n              </li>\n              <li class=\"nav-item flex-grow text-center\" role=\"presentation\">\n                <a\n                  href=\"#tabs-profileJustify\"\n                  class=\"nav-link w-full whitespace-nowrap block font-medium text-xs leading-tight uppercase border-x-0 border-t-0 border-b-2 border-transparent px-6 py-3 my-2 hover:border-transparent hover:bg-gray-100 focus:border-transparent\"\n                  id=\"tabs-profile-tabJustify\"\n                  data-bs-toggle=\"pill\"\n                  data-bs-target=\"#tabs-profileJustify\"\n                  role=\"tab\"\n                  aria-controls=\"tabs-profileJustify\"\n                  aria-selected=\"false\"\n                  >圖片</a\n                >\n              </li>\n            </ul>\n            <button\n              type=\"button\"\n              class=\"absolute right-4 top-4 btn-close box-content w-4 h-4 p-1 text-black border-none rounded-none opacity-50 focus:shadow-none focus:outline-none focus:opacity-100 hover:text-black hover:opacity-75 hover:no-underline\"\n              aria-label=\"Close\"\n              @click=\"hideModal\"\n            ></button>\n          </div>\n          <div class=\"modal-body relative p-4\">\n            <!-- content -->\n            <div class=\"tab-content\" id=\"tabs-tabContentJustify\">\n              <div\n                class=\"tab-pane fade show active\"\n                id=\"tabs-homeJustify\"\n                role=\"tabpanel\"\n                aria-labelledby=\"tabs-home-tabJustify\"\n              >\n                <ul class=\"list-none\" v-if=\"signatures.length\">\n                  <li v-for=\"(image, index) in signatures\" :key=\"index\">\n                    <button type=\"button\" data-btn=\"signature\" @click=\"chooseSign(image)\">\n                      <img\n                        class=\"show-img border\"\n                        :src=\"image\"\n                        width=\"300\"\n                        height=\"150\"\n                        :alt=\"index\"\n                      />\n                    </button>\n                  </li>\n                </ul>\n                <button\n                  type=\"button\"\n                  class=\"block w-full px-6 py-2.5 mt-4 mb-1 border border-p1 text-p1 font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-p1 hover:text-n1 transition duration-150 ease-in-out\"\n                  @click=\"closeAndOpen\"\n                >\n                  創建簽名 +\n                </button>\n              </div>\n              <div\n                class=\"tab-pane fade\"\n                id=\"tabs-profileJustify\"\n                role=\"tabpanel\"\n                aria-labelledby=\"tabs-profile-tabJustify\"\n              >\n                <ul class=\"grid grid-cols-3 w-full h-auto gap-4\">\n                  <li>\n                    <div\n                      class=\"rounded border-n6 w-full h-full flex justify-center items-center text-center\"\n                    >\n                      <label class=\"text-p1 text-lg d-block bg-n1 cursor-pointer\" for=\"img\"\n                        >選擇檔案\n                        <input\n                          type=\"file\"\n                          id=\"img\"\n                          name=\"img\"\n                          class=\"hidden\"\n                          accept=\"image/*\"\n                          data-btn=\"images\"\n                          @change=\"saveImage\"\n                        />\n                      </label>\n                    </div>\n                  </li>\n                  <li v-for=\"(img, index) in images\" :key=\"index\">\n                    <button\n                      type=\"button\"\n                      class=\"block w-full\"\n                      data-btn=\"images\"\n                      @click=\"chooseSign(img)\"\n                    >\n                      <img class=\"w-full h-auto\" :src=\"img\" :alt=\"index\" />\n                    </button>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- 簽名板 -->\n  <div\n    class=\"modal fade fixed top-0 left-0 hidden w-full h-full outline-none overflow-x-hidden overflow-y-auto\"\n    id=\"createSignature\"\n    tabindex=\"-1\"\n    aria-labelledby=\"createSignature\"\n    aria-modal=\"true\"\n    role=\"dialog\"\n    ref=\"signModal\"\n  >\n    <div class=\"modal-dialog modal-dialog-centered relative w-auto pointer-events-none\">\n      <div\n        class=\"modal-content border-none shadow-lg relative flex flex-col w-full pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current\"\n      >\n        <div class=\"flex w-full items-center justify-between p-4 rounded-t-md\">\n          <button\n            type=\"button\"\n            class=\"btn-close block w-4 h-4 p-1 text-black border-none rounded-none opacity-50 focus:shadow-none focus:outline-none focus:opacity-100 hover:text-black hover:opacity-75 hover:no-underline\"\n            @click=\"signHide\"\n            aria-label=\"Close\"\n          ></button>\n          <h5 class=\"text-xl font-medium leading-normal text-gray-800\" id=\"createSignatureLabel\">\n            創建簽名\n          </h5>\n          <button\n            :disabled=\"use\"\n            type=\"button\"\n            class=\"block px-6 py-2.5 disabled:bg-n2 disabled:text-n5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out ml-1\"\n            data-btn=\"signature\"\n            @click=\"saveImage\"\n          >\n            使用\n          </button>\n        </div>\n        <div class=\"flex justify-end p-4 border-b border-gray-200\">\n          <div\n            class=\"rounded-full border-n6 border-[1.5px] text-center text-sm w-5 h-5 text-n6 align-top\"\n          >\n            ?\n          </div>\n        </div>\n        <div class=\"modal-body relative p-4\">\n          <!-- canvas content -->\n          <canvas\n            id=\"signature\"\n            height=\"150\"\n            width=\"440\"\n            class=\"bg-n4\"\n            @=\"{mousedown:startPosition, touchstart:startPosition, mousemove:draw, touchmove:draw, mouseup: finishedPosition, touchcancel:finishedPosition\n }\"\n          ></canvas>\n        </div>\n        <div\n          class=\"modal-footer flex flex-shrink-0 flex-wrap items-center p-4 border-t border-gray-200 rounded-b-md\"\n        >\n          <button\n            type=\"button\"\n            class=\"inline-block clear px-1 py-2.5 mr-5 text-p1 font-medium text-xs leading-tight uppercase rounded transition duration-150 ease-in-out\"\n            @click=\"reset\"\n          >\n            清除\n          </button>\n          <ul class=\"list-none flex space-x-2 items-center\">\n            <li>\n              <button\n                type=\"button\"\n                class=\"rounded-full w-3.5 h-3.5 bg-black active:ring-[1px] active:ring-yellow-300 active:ring-offset-2\"\n                @click=\"changeColor\"\n              ></button>\n            </li>\n            <li>\n              <button\n                type=\"button\"\n                class=\"rounded-full w-3.5 h-3.5 bg-p1 active:ring-[1px] active:ring-yellow-300 active:ring-offset-2\"\n                @click=\"changeColor\"\n              ></button>\n            </li>\n            <li>\n              <button\n                type=\"button\"\n                class=\"rounded-full w-3.5 h-3.5 bg-red-600 active:ring-[1px] active:ring-yellow-300 active:ring-offset-2\"\n                @click=\"changeColor\"\n              ></button>\n            </li>\n            <li class=\"relative\">\n              <label\n                for=\"pickColors\"\n                class=\"w-3.5 h-3.5 text-n6 text-2xl block absolute -top-4 cursor-pointer\"\n                >+\n                <input type=\"button\" class=\"hidden\" id=\"pickColors\" @colorChange=\"changeColor\" />\n              </label>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapWritableState } from 'pinia';\nimport { useUploadStore } from '../stores/userEdit';\nimport modalMixin from '../mixins/modalMixin';\nimport fabricMixin from '../mixins/fabricMixin';\n\nexport default {\n  data() {\n    return {\n      isPainting: false,\n      picker: null,\n      canvas: null,\n      ctx: null,\n      use: true, // 使用按鈕\n    };\n  },\n  computed: {\n    ...mapWritableState(useUploadStore, ['signatures', 'chosenSign', 'images']),\n  },\n  mixins: [modalMixin, fabricMixin],\n  methods: {\n    closeAndOpen() {\n      this.hideModal();\n      this.signOpen();\n    },\n    // 換顏色\n    changeColor(e) {\n      if (e.target.classList.contains('bg-p1')) {\n        this.ctx.strokeStyle = '#3175FA';\n      } else if (e.target.classList.contains('bg-red-600')) {\n        this.ctx.strokeStyle = '#F64331';\n      } else if (e.target.classList.contains('bg-black')) {\n        this.ctx.strokeStyle = '#191A1B';\n      } else {\n        this.ctx.strokeStyle = e.detail.color.hexa;\n      }\n    },\n    // 取得滑鼠 / 手指在畫布上的位置\n    getPaintPosition(e) {\n      const canvasSize = this.canvas.getBoundingClientRect();\n      if (e.type === 'mousemove') {\n        return { x: e.clientX - canvasSize.left, y: e.clientY - canvasSize.top };\n      }\n      // return { x: `${e.clientX - e.offsetX}px`, y: `${e.clientY - e.offsetY}px` };\n      return {\n        x: e.touches[0].clientX - canvasSize.left,\n        y: e.touches[0].clientY - canvasSize.top,\n      };\n    },\n    startPosition(e) {\n      this.use = false;\n      e.preventDefault();\n      this.isPainting = true;\n    },\n    // 結束繪圖時，將狀態關閉，並產生新路徑\n    finishedPosition() {\n      this.isPainting = false;\n      this.ctx.beginPath();\n    },\n    draw(e) {\n      // 滑鼠移動過程中，若非繪圖狀態，則跳出\n      if (!this.isPainting) return;\n      // 取得滑鼠 /手指在畫布上的 x, y 軸位置位置\n      const paintPosition = this.getPaintPosition(e); // 移動滑鼠位置並產生圖案\n      this.ctx.lineTo(paintPosition.x, paintPosition.y);\n      this.ctx.stroke();\n    },\n    reset() {\n      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n      this.use = true;\n    },\n    saveImage(e) {\n      // 簽名圖片儲存的類型選擇 png ，並將值放入 img 的 src\n      if (e.target.dataset.btn === 'signature') {\n        //\n        const newImg = this.canvas.toDataURL('image/png');\n        // 直接修改剛剛的函式，將拿到的檔案存起來\n        this.signatures.push(newImg);\n        this.signHide();\n        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.openModal();\n      } else if (e.target.dataset.btn === 'images') {\n        if (e.target.files[0] === undefined) {\n          return;\n        }\n        const file = e.target.files[0];\n        // 建成圖片連結\n        const stamp = URL.createObjectURL(file);\n        this.images.push(stamp);\n      }\n    },\n    // 選擇 簽名\n    chooseSign(image) {\n      // eslint-disable-next-line no-undef\n      this.fabric.Image.fromURL(image, (img) => {\n        // 設定簽名出現的位置及大小，後續可調整\n        const imgParam = img;\n        imgParam.top = 100;\n        imgParam.scaleX = 0.5;\n        imgParam.scaleY = 0.5;\n        this.chosenSign = imgParam;\n        this.hideModal();\n      });\n    },\n  },\n  mounted() {\n    this.canvas = document.querySelector('#signature');\n    // eslint-disable-next-line no-undef\n    this.picker = new ColorPicker(document.querySelector('#pickColors'), '#4c0082');\n    this.ctx = this.canvas.getContext('2d');\n    this.ctx.lineWidth = 4;\n    this.ctx.lineCap = 'round';\n  },\n};\n</script>\n","export default {\n  data() {\n    return {\n      fabric: null,\n    };\n  },\n  created() {\n    // eslint-disable-next-line no-undef\n    this.fabric = fabric;\n  },\n};\n","import { render } from \"./SignModal.vue?vue&type=template&id=79992424\"\nimport script from \"./SignModal.vue?vue&type=script&lang=js\"\nexport * from \"./SignModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\jackh\\\\OneDrive\\\\桌面\\\\vite\\\\點點簽\\\\f2e_week2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/* eslint-disable no-undef */\npdfjsLib.GlobalWorkerOptions.workerSrc = 'https://mozilla.github.io/pdf.js/build/pdf.worker.js';\n\nexport default {\n  data() {\n    return {\n      pdfjsLib: null,\n    };\n  },\n  created() {\n    this.pdfjsLib = pdfjsLib;\n  },\n};\n","import { render } from \"./EditView.vue?vue&type=template&id=3e33ed04\"\nimport script from \"./EditView.vue?vue&type=script&lang=js\"\nexport * from \"./EditView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\jackh\\\\OneDrive\\\\桌面\\\\vite\\\\點點簽\\\\f2e_week2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","_imports_0","alt","_hoisted_6","_hoisted_7","_imports_1","_hoisted_10","_hoisted_11","_imports_2","_hoisted_14","_hoisted_15","id","role","_imports_3","_hoisted_21","_imports_4","_hoisted_23","_imports_5","_hoisted_25","_hoisted_29","_hoisted_31","_hoisted_33","_hoisted_39","disabled","type","_hoisted_43","_hoisted_1","_createVNode","_component_FunNav","stage","onNext","$options","onCancel","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","onClick","_hoisted_9","_hoisted_13","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_27","_hoisted_28","_hoisted_35","_hoisted_36","_hoisted_37","$data","_hoisted_41","_component_SignModal","ref","_component_ModalNote","tabindex","href","for","_ctx","_hoisted_8","length","_createElementBlock","_Fragment","image","index","key","width","height","_hoisted_12","name","accept","onChange","img","_hoisted_22","_hoisted_24","_mergeProps","_toHandlers","mousedown","touchstart","mousemove","touchmove","mouseup","touchcancel","_hoisted_26","data","fabric","created","this","isPainting","picker","canvas","ctx","use","computed","mapWritableState","useUploadStore","mixins","modalMixin","fabricMixin","methods","closeAndOpen","hideModal","signOpen","changeColor","e","target","classList","contains","strokeStyle","detail","color","hexa","getPaintPosition","canvasSize","getBoundingClientRect","x","clientX","left","y","clientY","top","touches","startPosition","preventDefault","finishedPosition","beginPath","draw","paintPosition","lineTo","stroke","reset","clearRect","saveImage","dataset","btn","newImg","toDataURL","signatures","push","signHide","openModal","undefined","files","file","stamp","URL","createObjectURL","images","chooseSign","Image","fromURL","imgParam","scaleX","scaleY","chosenSign","mounted","document","querySelector","ColorPicker","getContext","lineWidth","lineCap","__exports__","pdfjsLib","GlobalWorkerOptions","workerSrc","scale","currentNum","totalNum","offsetX","offsetY","clip_state","userClipPath","pdfImage","mapState","pdfJSMixin","watch","n","add","components","FunNav","SignModal","ModalNote","switchPage","console","log","renderAll","async","pdfFile","pdfDoc","getDocument","promise","pdfPage","getPage","viewport","getViewport","window","devicePixelRatio","createElement","context","renderTask","render","canvasContext","then","pdfData","Canvas","requestRenderAll","renderPDF","pdfToImage","setWidth","setHeight","setBackgroundImage","bind","numPages","scaleUp","setDimensions","getWidth","getHeight","setZoom","scaleDown","addText","iText","IText","hasControls","setActiveObject","enterEditing","selectAll","addDate","year","Date","getFullYear","month","getMonth","date","getDate","Text","clipMethod","clipConfirm","clipPath","Rect","fill","transparentCorners","cornerColor","strokeWidth","cornerStrokeColor","borderColor","borderDashArray","cornerStyle","setControlVisible","newImgCrop","getBoundingRect","set","cropX","cropY","setCoords","opacity","confirmedEdit","finalFile","newFile","ReName","localStorage","getItem","storageArray","setItem","JSON","stringify","parse","$router","$refs","modal","signModal","getTotalNum"],"sourceRoot":""}