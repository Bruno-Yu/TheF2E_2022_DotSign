{"version":3,"file":"js/492.fd378daa.js","mappings":"mNAEOA,MAAM,qE,GACTC,EAAAA,EAAAA,GAIE,OAHAD,MAAM,oEACNE,IAAAC,EACAC,IAAI,gB,YAIHH,EAAAA,EAAAA,GACD,OADMD,MAAM,mBAAmBE,IAAAG,EAAgCD,IAAI,Q,YAEhEJ,MAAM,wE,GASJA,MAAM,2B,GAEPA,MAAM,kG,SAKJA,MAAM,oD,GAGJM,IAAI,WACJN,MAAM,yV,GAURC,EAAAA,EAAAA,GAAwD,KAArDD,MAAM,mCAAkC,aAAS,G,SAG1CA,MAAM,6C,GACXA,MAAM,0E,GACJA,MAAM,kDAAkD,cAAY,Q,GACvEC,EAAAA,EAAAA,GAQE,UAPAD,MAAM,UACN,eAAa,IACbO,OAAO,eACPC,KAAK,cACLC,EAAE,KACFC,GAAG,KACHC,GAAG,M,uDAeDX,MAAM,6B,GAEdC,EAAAA,EAAAA,GAAgD,KAA7CD,MAAM,4BAA2B,YAAQ,G,GAUhDC,EAAAA,EAAAA,GAAkD,KAA/CD,MAAM,wBAAuB,kBAAc,G,2IAhFpDC,EAAAA,EAAAA,GAmFM,MAnFNW,EAmFM,CAlFJC,GAMAC,EAAAA,EAAAA,IAEgBC,EAAAA,CAFHf,MAAM,8CAA8CgB,GAAG,W,mBACjE,IACD,CADCC,K,OAEHhB,EAAAA,EAAAA,GAwEM,MAxENiB,EAwEM,EAtEJJ,EAAAA,EAAAA,IAKEK,EAAAA,CAJCC,MAAO,EACP,cAAYC,EAAAA,QACZC,SAAQC,EAAAA,aACRC,OAAMD,EAAAA,a,4CAGTtB,EAAAA,EAAAA,GA8DM,MA9DNwB,EA8DM,EA7DJxB,EAAAA,EAAAA,GA2DM,MA3DNyB,EA2DM,CAtDIL,EAAAA,UAekD,WAG1DM,EAAAA,EAAAA,IAmCM,MAnCNC,EAmCM,EAlCJ3B,EAAAA,EAAAA,GAyBM,MAzBN4B,EAyBM,cAxBJF,EAAAA,EAAAA,IAsBM,MAtBNG,EAsBM,CArBJC,GASA9B,EAAAA,EAAAA,GAWE,UAVAD,MAAM,UACN,eAAa,IACZ,mBAAkBqB,EAAAA,cAClB,oBAAmBA,EAAAA,cAAiBA,EAAAA,QAAU,IAAOA,EAAAA,cACtD,iBAAe,QACfd,OAAO,eACPC,KAAK,cACLC,EAAE,KACFC,GAAG,KACHC,GAAG,M,cAGPV,EAAAA,EAAAA,GAA6D,OAA7D+B,GAA6D,QAAlBX,EAAAA,SAAU,IAAC,KAExDY,GACAhC,EAAAA,EAAAA,GAMS,UALPiC,KAAK,SACLlC,MAAM,4UACLmC,QAAK,oBAAEZ,EAAAA,cAAAA,EAAAA,gBAAAA,KACT,aAlDY,WADfI,EAAAA,EAAAA,IAiBM,MAjBNS,EAiBM,EAbJnC,EAAAA,EAAAA,GAWQ,QAXRoC,EAWQ,UARL,sBACD,OAME,SALArC,MAAM,mDACNkC,KAAK,OACLI,GAAG,WACHC,YAAY,mBACXC,SAAM,oBAAEjB,EAAAA,SAAAA,EAAAA,WAAAA,K,WAGbkB,OAwCJC,SAIN5B,EAAAA,EAAAA,IAA6D6B,EAAAA,CAAjDvB,MAAO,EAAGwB,IAAI,QAAStB,SAAQC,EAAAA,gB,8EAU7C,GACEsB,OACE,MAAO,CACLC,cAAe,IAASC,KAAKC,GAC7BC,QAAS,EACTC,IAAK,KACLC,OAAQ,KACRC,UAAW,KAEf,EACAC,SAAU,KACLC,EAAAA,EAAAA,IAASC,EAAAA,EAAgB,CAAC,cAE/BC,WAAY,CAAEC,UAAS,IAAEC,OAAMA,EAAAA,GAC/BC,MAAO,CACLV,QAAQW,GACI,MAANA,IACFC,cAAcC,KAAKV,WACnBU,KAAKC,QAAQC,KAAK,aAEtB,GAEFC,QAAS,KACJC,EAAAA,EAAAA,IAAWX,EAAAA,EAAgB,CAAC,WAC/BY,QAAQC,GACNN,KAAKO,OAAOD,GACRN,KAAKb,QAAU,KACjBa,KAAKQ,YAET,EACAA,aACER,KAAKV,UAAYmB,aAAY,KAC3BT,KAAKb,SAAW,EAAE,GACjB,IACL,EACAuB,cACEV,KAAKC,QAAQC,KAAK,YACpB,EACAS,eACEZ,cAAcC,KAAKV,WACnBU,KAAKY,MAAMC,MAAMC,WACnB,EACAC,iBACMf,KAAKb,QAAU,GACjBa,KAAKQ,YAET,I,QCzIJ,MAAMQ,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://f2e_week2/./src/views/UploadView.vue","webpack://f2e_week2/./src/views/UploadView.vue?6d82"],"sourcesContent":["<!-- eslint-disable max-len -->\n<template>\n  <div class=\"bg-p2 w-full h-screen flex flex-col items-center px-4 xl:relative\">\n    <img\n      class=\"absolute w-[238px] h-auto bottom-0 right-[111px] hidden 2xl:block\"\n      src=\"../assets/images/login_avatar.png\"\n      alt=\"login_avatar\"\n    />\n    <!-- 上傳檔案 -->\n    <router-link class=\"block w-1/3 mb-8 pt-5 lg:w-[219px] lg:mb-10\" to=\"./login\"\n      ><img class=\"w-full lg:h-auto\" src=\"../assets/images/Logo.png\" alt=\"logo\"\n    /></router-link>\n    <div class=\"bg-n1 mt-8 w-full max-w-5xl mx-auto xl:rounded xl:mt-[80px] relative\">\n      <!-- tabs -->\n      <FunNav\n        :stage=\"0\"\n        :allow-next=\"percent ? false : true\"\n        @cancel=\"pauseAndOpen\"\n        @next=\"goToConfirm\"\n      />\n      <!-- tabs content -->\n      <div class=\"px-4 py-10 xl:px-[60px]\">\n        <div\n          class=\"border-dashed border-[1.5px] border-n6 min-h-[280px] flex justify-center items-center relative\"\n        >\n          <!-- 沒有檔案時 -->\n          <div\n            v-if=\"percent ? false : true\"\n            class=\"flex w-full flex-col justify-center items-center\"\n          >\n            <label\n              for=\"formFile\"\n              class=\"relative z-20 cursor-pointer px-3 xl:px-5 py-2.5 border-p1 border block text-p1 font-bold mb-6 whitespace-nowrap leading-tight uppercase rounded hover:bg-p1 hover:text-n1 hover:shadow-lg focus:bg-p1 focus:text-n1 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-p1 active:text-n1 active:shadow-lg transition duration-150 ease-in-out\"\n              >選擇檔案 (PDF / png)\n              <input\n                class=\"absolute left-0 top-0 bottom-0 right-0 opacity-0\"\n                type=\"file\"\n                id=\"formFile\"\n                placeholder=\"選擇檔案 (PDF / png)\"\n                @change=\"countUp\"\n              />\n            </label>\n            <p class=\"text-center text-n6 font-medium\">或直接拖放檔案進來</p>\n          </div>\n          <!-- 有檔案時 -->\n          <div v-else class=\"flex flex-col justify-center items-center\">\n            <div class=\"flex items-center justify-center overflow-hidden bg-white rounded-full\">\n              <svg class=\"w-32 h-32 transform translate-x-1 translate-y-1\" aria-hidden=\"true\">\n                <circle\n                  class=\"text-n3\"\n                  stroke-width=\"5\"\n                  stroke=\"currentColor\"\n                  fill=\"transparent\"\n                  r=\"50\"\n                  cx=\"60\"\n                  cy=\"60\"\n                />\n                <circle\n                  class=\"text-p1\"\n                  stroke-width=\"5\"\n                  :stroke-dasharray=\"circumference\"\n                  :stroke-dashoffset=\"circumference - (percent / 100) * circumference\"\n                  stroke-linecap=\"round\"\n                  stroke=\"currentColor\"\n                  fill=\"transparent\"\n                  r=\"50\"\n                  cx=\"60\"\n                  cy=\"60\"\n                />\n              </svg>\n              <span class=\"absolute text-2xl text-p1\">{{ percent }}%</span>\n            </div>\n            <p class=\"text-center mt-6 text-n6\">檔案上傳中...</p>\n            <button\n              type=\"button\"\n              class=\"mt-4 inline-block px-3 py-1.5 border-p1 border text-p1 font-bold whitespace-nowrap text-xs leading-tight uppercase rounded shadow-md hover:bg-p1 hover:text-n1 hover:shadow-lg focus:bg-p1 focus:text-n1 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-p1 active:text-n1 active:shadow-lg transition duration-150 ease-in-out\"\n              @click=\"pauseAndOpen\"\n            >\n              取消\n            </button>\n          </div>\n        </div>\n        <p class=\"text-sm text-n6 mt-4\">檔案大小不得超過 10 MB</p>\n      </div>\n    </div>\n  </div>\n  <ModalNote :stage=\"0\" ref=\"modal\" @cancel=\"resumeCounting\" />\n</template>\n\n<script>\n// pinia\nimport { mapState, mapActions } from 'pinia';\nimport { useUploadStore } from '../stores/userEdit';\nimport ModalNote from '../components/ModalNote.vue';\nimport FunNav from '../components/FunNav.vue';\n\nexport default {\n  data() {\n    return {\n      circumference: 50 * 2 * Math.PI,\n      percent: 0,\n      ctx: null,\n      canvas: null,\n      repeatAdd: null,\n    };\n  },\n  computed: {\n    ...mapState(useUploadStore, ['fileName']),\n  },\n  components: { ModalNote, FunNav },\n  watch: {\n    percent(n) {\n      if (n === 100) {\n        clearInterval(this.repeatAdd);\n        this.$router.push('./confirm');\n      }\n    },\n  },\n  methods: {\n    ...mapActions(useUploadStore, ['upload']),\n    countUp(e) {\n      this.upload(e);\n      if (this.percent < 100) {\n        this.addPercent();\n      }\n    },\n    addPercent() {\n      this.repeatAdd = setInterval(() => {\n        this.percent += 10;\n      }, 500);\n    },\n    goToConfirm() {\n      this.$router.push('./confirm');\n    },\n    pauseAndOpen() {\n      clearInterval(this.repeatAdd);\n      this.$refs.modal.openModal();\n    },\n    resumeCounting() {\n      if (this.percent > 0) {\n        this.addPercent();\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./UploadView.vue?vue&type=template&id=7ad2c800\"\nimport script from \"./UploadView.vue?vue&type=script&lang=js\"\nexport * from \"./UploadView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\jackh\\\\OneDrive\\\\桌面\\\\vite\\\\點點簽\\\\f2e_week2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","_imports_0","alt","_imports_1","for","stroke","fill","r","cx","cy","_hoisted_1","_hoisted_2","_createVNode","_component_router_link","to","_hoisted_3","_hoisted_4","_component_FunNav","stage","$data","onCancel","$options","onNext","_hoisted_5","_hoisted_6","_createElementBlock","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_15","_hoisted_16","type","onClick","_hoisted_7","_hoisted_8","id","placeholder","onChange","_hoisted_9","_hoisted_17","_component_ModalNote","ref","data","circumference","Math","PI","percent","ctx","canvas","repeatAdd","computed","mapState","useUploadStore","components","ModalNote","FunNav","watch","n","clearInterval","this","$router","push","methods","mapActions","countUp","e","upload","addPercent","setInterval","goToConfirm","pauseAndOpen","$refs","modal","openModal","resumeCounting","__exports__","render"],"sourceRoot":""}